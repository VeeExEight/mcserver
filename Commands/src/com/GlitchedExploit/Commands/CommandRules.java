package com.GlitchedExploit.Commands;

import java.util.Arrays;
import java.util.List;

import org.bukkit.Bukkit;
import org.bukkit.ChatColor;
import org.bukkit.Material;
import org.bukkit.SkullType;
import org.bukkit.command.Command;
import org.bukkit.command.CommandExecutor;
import org.bukkit.command.CommandSender;
import org.bukkit.entity.Player;
import org.bukkit.inventory.Inventory;
import org.bukkit.inventory.ItemStack;
import org.bukkit.inventory.meta.ItemMeta;
import org.bukkit.inventory.meta.SkullMeta;

public class CommandRules implements CommandExecutor {

	@SuppressWarnings("deprecation")
	public Inventory rulesInventory() {
		
		Inventory inv = Bukkit.createInventory(null, 45, ChatColor.translateAlternateColorCodes('&',
				"&8[&cStrategicSurvival&8] &7Server Rules"));
	
		ItemStack question = new ItemStack(Material.SKULL_ITEM, 1, (byte)3);
		SkullMeta meta = (SkullMeta) question.getItemMeta();
		
		meta.setOwner("MHF_Question");
		meta.setDisplayName(ChatColor.GRAY + "???");
		question.setItemMeta(meta);
		
		ItemStack noGrief = make(Material.TNT, 1, ChatColor.RED + "No Griefing", 
				Arrays.asList(ChatColor.GRAY +
				"All griefers will be punished.", ChatColor.GRAY + "Griefing includes:", ChatColor.GRAY +
				"Destroying other player's builds", ChatColor.GRAY + "Killing other player's pets",
				ChatColor.GRAY + "Stealing items from players"));
		
		ItemStack noHack = make(Material.BEDROCK, 1, ChatColor.RED + "No Hacking", 
				Arrays.asList(ChatColor.GRAY + "All hackers will be punished.", ChatColor.GRAY +
						"Hacking includes:", ChatColor.GRAY + "Using hacked clients",
						ChatColor.GRAY + "Using modifications to gain an advantage over others",
						ChatColor.GRAY + "Using xray resource packs"));
		
		ItemStack noSpam = make(Material.SIGN, 1, ChatColor.RED + "No Spamming", 
				Arrays.asList(ChatColor.GRAY + "All spammers will be punished", ChatColor.GRAY +
						"Spamming includes:", ChatColor.GRAY + "Spamming messages in chat", 
						ChatColor.GRAY + "Sending the same message multiple times", ChatColor.GRAY +
						"Using (almost) all capital letters", ChatColor.GRAY + 
						"Using custom fonts and/or symbols"));
		
		ItemStack noAdvert = make(Material.PAPER, 1, ChatColor.RED + "No Advertising", 
				Arrays.asList(ChatColor.GRAY + "All advertisers will be punished.", ChatColor.GRAY +
						"Advertising includes:", ChatColor.GRAY + "Posting other server IP's in chat",
						ChatColor.GRAY + "Posting other links in chat"));
		
		ItemStack noScam = make(Material.GOLD_INGOT, 1, ChatColor.RED + "No Scamming", 
				Arrays.asList(ChatColor.GRAY + "All scammers will be punished", ChatColor.GRAY + 
						"Scamming includes:", ChatColor.GRAY + "Making trades and not following through",
						ChatColor.GRAY + "Tricking other players into giving you items or money"));
		
		// toxic
		// glitches
		ItemStack toxic = make(Material.DIRT, 1, ChatColor.RED + "Be respectful", 
				Arrays.asList(ChatColor.GRAY + "Disrespecting players will result in punishment.", ChatColor.GRAY + 
						"This means:", ChatColor.GRAY + "Insulting other players", ChatColor.GRAY + 
						"Annoying other players", ChatColor.GRAY + "Being racist/sexist", 
						ChatColor.GRAY + "Arguing with other players or staff"));
		
		ItemStack glitch = make(Material.COMMAND, 1, ChatColor.RED + "Don't use glitches",
				Arrays.asList(ChatColor.GRAY + "Using glitches will result in punishment", ChatColor.GRAY +
						 "This includes:", ChatColor.GRAY + "Using glitches to gain an advantage", 
						 ChatColor.GRAY + "Telling other players glitches", ChatColor.GRAY + 
						 "Not reporting glitches to staff"));
		
		inv.setItem(24, noGrief);
		inv.setItem(11, noHack);
		inv.setItem(19, noSpam);
		inv.setItem(25, question);
		inv.setItem(20, noScam);
		inv.setItem(15, toxic);
		inv.setItem(16, glitch);
		inv.setItem(10, noAdvert);
		inv.setItem(28, question);
		inv.setItem(29, question);
		inv.setItem(33, question);
		inv.setItem(34, question);
		
		return inv;
	}
	
	public ItemStack make(Material item, int amount, String name, List<String> lore) {
		
		ItemStack i = new ItemStack(item);
		ItemMeta m = i.getItemMeta();
		m.setDisplayName(name);
		m.setLore(lore);
		i.setItemMeta(m);
		return i;
	}
	
	public boolean onCommand(CommandSender sender, Command cmd, String label, String[] args) {
		
		if (!(sender instanceof Player)) {
			sender.sendMessage("Only players can use this command");
			return false;
		}
		
		Player p = (Player) sender;
		
		p.openInventory(rulesInventory());
		
		return false;
	}

}
