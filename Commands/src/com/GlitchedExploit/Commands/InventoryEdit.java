package com.GlitchedExploit.Commands;

import org.bukkit.ChatColor;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.inventory.InventoryClickEvent;

public class InventoryEdit implements Listener {

	CommandRules commandRules = new CommandRules();
	CommandWilderness commandWilderness = new CommandWilderness();
	String rulestitle = commandRules.rulesInventory().getTitle();
	String wildtitle = commandWilderness.wildInventory().getTitle();
	
	@EventHandler
	public void onInventoryEdit(InventoryClickEvent e) {
		
		Player p = (Player) e.getWhoClicked();
		
		if (e.getInventory().getTitle().equals(rulestitle)) {
			
			p.sendMessage(ChatColor.RED + "This action is not allowed.");
			e.setCancelled(true);
			
		} else if (e.getInventory().getTitle().equals(wildtitle)) {
			
			e.setCancelled(true);
			
			if (e.getCurrentItem().getItemMeta().getDisplayName().equals(ChatColor.GREEN + "Tiny")) {
				
				p.teleport(commandWilderness.randomLoc(p, 3000));
				
			} else if (e.getCurrentItem().getItemMeta().getDisplayName().equals(ChatColor.GREEN + "Short")) {
				
				p.teleport(commandWilderness.randomLoc(p, 5000));
				
			} else if (e.getCurrentItem().getItemMeta().getDisplayName().equals(ChatColor.GREEN + "Normal")) {
				
				p.teleport(commandWilderness.randomLoc(p, 10000));
				
			} else if (e.getCurrentItem().getItemMeta().getDisplayName().equals(ChatColor.GREEN + "Distant")) {
				
				p.teleport(commandWilderness.randomLoc(p, 25000));
				
			} else if (e.getCurrentItem().getItemMeta().getDisplayName().equals(ChatColor.GREEN + "Far")) {
				
				p.teleport(commandWilderness.randomLoc(p, 50000));
				
			}
		}
		
	}
}
