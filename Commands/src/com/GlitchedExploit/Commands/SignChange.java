package com.GlitchedExploit.Commands;

import org.bukkit.ChatColor;
import org.bukkit.entity.Player;
import org.bukkit.event.EventHandler;
import org.bukkit.event.Listener;
import org.bukkit.event.block.SignChangeEvent;

public class SignChange implements Listener {
	
	public String[] linesWildTp = {ChatColor.GRAY + "***", 
			ChatColor.translateAlternateColorCodes('&', "&8[&aWildTP&8]"), ChatColor.GRAY + "Open GUI"
					, ChatColor.DARK_GRAY + "*right click*"};
	
	@EventHandler
	public void placeSign(SignChangeEvent e) {
		
		Player p = e.getPlayer();
		
		// Sign colours
		
		if (p.hasPermission("commands.sign.colour")) {
	        for (int i = 0; i < 4; i++) {
	            String line = e.getLine(i);
	            if (line != null && !line.equals("")) {
	                e.setLine(i, ChatColor.translateAlternateColorCodes('&', line));
	            }
	            
	            if (e.getLines().equals(linesWildTp)) {
	            	for (i = 0; i < 4; i++) {
	            		e.setLine(i, "");
	            		p.sendMessage(ChatColor.RED + "You cannot do this!");
	            	}
	            }
	        }
		}
		
		// Wild GUI sign
		String line = e.getLine(0);
		if (line.equalsIgnoreCase("[WildTP]") && p.hasPermission("commands.sign.wildtp")) {
			for (int i = 0; i < 4; i++) {
				e.setLine(i, linesWildTp[i]);
			}
			p.sendMessage(ChatColor.GRAY + "WildTP sign successfully made!");
		}
		
	}

}
